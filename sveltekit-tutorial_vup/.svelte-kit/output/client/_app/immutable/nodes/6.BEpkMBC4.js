import{a as y,t as N}from"../chunks/B4nvuYTy.js";import{a6 as T,a7 as Y,a8 as J,m as K,y as j,av as Q,u as R,r as U,p as W,ap as X,t as E,b as Z,$,s as m,c as d,l as x,j as ee,a4 as re,d as v,Y as te}from"../chunks/CJlLnzGF.js";import{s as w}from"../chunks/BpTnGrrI.js";import{i as z}from"../chunks/JPRR9ya2.js";import{h as ae}from"../chunks/Bn7vJT4X.js";import{a as oe,e as ie}from"../chunks/CSBOTBi8.js";import{a as le,b as ne,s as h,r as se,c as fe}from"../chunks/Bz3NVuBy.js";import{p as ue}from"../chunks/280SkVX7.js";function ce(e){var r=J,i=K;T(null),Y(null);try{return e()}finally{T(r),Y(i)}}function de(e,r,i,t=i){e.addEventListener(r,()=>ce(i));const a=e.__on_r;a?e.__on_r=()=>{a(),t(!0)}:e.__on_r=()=>t(!0),le()}const B=[...` 	
\r\f \v\uFEFF`];function ve(e,r,i){var t=""+e;if(i){for(var a in i)if(i[a])t=t?t+" "+a:a;else if(t.length)for(var o=a.length,n=0;(n=t.indexOf(a,n))>=0;){var s=n+o;(n===0||B.includes(t[n-1]))&&(s===t.length||B.includes(t[s]))?t=(n===0?"":t.substring(0,n))+t.substring(s+1):n=s}}return t===""?null:t}function me(e,r,i,t,a,o){var n=e.__className;if(j||n!==i){var s=ve(i,t,o);(!j||s!==e.getAttribute("class"))&&(s==null?e.removeAttribute("class"):e.className=s),e.__className=i}else if(o&&a!==o)for(var c in o){var b=!!o[c];(a==null||b!==!!a[c])&&e.classList.toggle(c,b)}return o}function _e(e,r,i=r){var t=Q();de(e,"input",a=>{var o=a?e.defaultValue:e.value;if(o=p(e)?S(o):o,i(o),t&&o!==(o=r())){var n=e.selectionStart,s=e.selectionEnd;e.value=o??"",s!==null&&(e.selectionStart=n,e.selectionEnd=Math.min(s,e.value.length))}}),(j&&e.defaultValue!==e.value||R(r)==null&&e.value)&&i(p(e)?S(e.value):e.value),U(()=>{var a=r();p(e)&&a===S(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function p(e){var r=e.type;return r==="number"||r==="range"}function S(e){return e===""?null:+e}var be=N('<p id="title-error" class="text-red-600 text-sm mt-1"> </p>'),ge=N('<p id="content-error" class="text-red-600 text-sm mt-1"> </p>'),xe=N('<form method="POST"><div class="grid gap-6 mt-6"><div><label for="title" class="block mb-2 text-sm font-medium text-gray-900">タイトル</label> <input id="title" name="title" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5" required> <!></div> <div><label for="content" class="block mb-2 text-sm font-medium text-gray-900">本文</label> <textarea id="content" name="content" rows="10" class="border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 svelte-mp73rw" required></textarea> <p> </p> <!></div> <div><button type="submit" class="inline-flex justify-center items-center py-3 px-5 text-base font-medium text-center text-white rounded-lg bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-primary-300">投稿する</button></div></div></form>');function qe(e,r){var L;W(r,!0);let i=X(ue(((L=r.form)==null?void 0:L.fields.content)??""));const t=re(()=>[...new Intl.Segmenter("ja",{granularity:"grapheme"}).segment(x(i))].length),a=1e3;var o=xe();ae(f=>{$.title="新規記事投稿"});var n=d(o),s=d(n),c=m(d(s),2);se(c);var b=m(c,2);{var D=f=>{var l=be(),u=d(l,!0);v(l),E(()=>w(u,r.form.errors.fieldErrors.title)),y(f,l)};z(b,f=>{var l,u;(u=(l=r.form)==null?void 0:l.errors.fieldErrors)!=null&&u.title&&f(D)})}v(s);var q=m(s,2),_=m(d(q),2);fe(_);var g=m(_,2);let A;var F=d(g);v(g);var G=m(g,2);{var H=f=>{var l=ge(),u=d(l,!0);v(l),E(()=>w(u,r.form.errors.fieldErrors.content)),y(f,l)};z(G,f=>{var l,u;(u=(l=r.form)==null?void 0:l.errors.fieldErrors)!=null&&u.content&&f(H)})}v(q),te(2),v(n),v(o),oe(o,f=>{var l;return(l=ie)==null?void 0:l(f)}),E(f=>{var l,u,O,V,k,C,I,M,P;ne(c,((l=r.form)==null?void 0:l.fields.title)??""),h(c,"aria-invalid",(O=(u=r.form)==null?void 0:u.errors.fieldErrors)!=null&&O.title?"true":void 0),h(c,"aria-describedby",(k=(V=r.form)==null?void 0:V.errors.fieldErrors)!=null&&k.title?"title-error":void 0),h(_,"aria-invalid",(I=(C=r.form)==null?void 0:C.errors.fieldErrors)!=null&&I.content?"true":void 0),h(_,"aria-describedby",(P=(M=r.form)==null?void 0:M.errors.fieldErrors)!=null&&P.content?"content-error":void 0),A=me(g,1,"text-sm text-gray-500 mt-1",null,A,f),w(F,`${x(t)??""}/${a}`)},[()=>({"text-red-600":x(t)>a})]),_e(_,()=>x(i),f=>ee(i,f)),y(e,o),Z()}export{qe as component};
